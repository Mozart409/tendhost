pre-commit:
  parallel: false
  jobs:
    - name: format check
      glob: "*.rs"
      run: cargo fmt --check --all

    - name: clippy
      glob: "*.rs"
      run: cargo clippy --all-targets -- -W clippy::pedantic -W clippy::correctness -W clippy::suspicious -W clippy::complexity -W clippy::perf -D warnings

    - name: check
      glob: "*.rs"
      run: cargo check --all-targets

pre-push:
  jobs:
    - name: tests
      run: cargo test --all

    - name: doc
      run: cargo doc --no-deps
